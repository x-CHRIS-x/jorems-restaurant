<!DOCTYPE html>
<html>
<head>
    <title>Staff Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f8f8;
            margin: 0; /* Reset default margin */
            padding: 0; /* Reset default padding */
        }
        .navbar {
            background-color: #f39c12;
            overflow: hidden;
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0px 2px 6px rgba(0,0,0,0.2);
            border-radius: 10px;
        }

        .navbar a {
            float: left;
            display: block;
            color: white;
            font-weight: bold;
            text-align: center;
            padding: 14px 20px;
            text-decoration: none;
            transition: 0.3s;
        }

        .navbar a:hover {
            background-color: #e67e22;
            color: #fff;
        }

        .navbar .brand {
            float: left;
            margin-top: 3px;
            font-size: 20px;
            font-weight: bold;
        }

        .navbar-right {
            float: right;
            margin-right: 20px;
        }
        .card-img-top {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        .page-content {
            padding: 20px; 
        }
        
        .card { border: 1px solid #ddd; border-radius: 8px; margin-bottom: 20px; background: #fff; }
        .card-header { padding: 10px 15px; background: #f7f7f7; border-bottom: 1px solid #ddd; }
        .card-body { padding: 15px; }
        .form-group { margin-bottom: 1rem; }
        .form-control { display: block; width: 100%; padding: .375rem .75rem; font-size: 1rem; line-height: 1.5; color: #212529; background-color: #fff; background-clip: padding-box; border: 1px solid #ced4da; border-radius: .25rem; box-sizing: border-box; }
        .btn { display: inline-block; font-weight: 400; text-align: center; vertical-align: middle; cursor: pointer; border: 1px solid transparent; padding: .375rem .75rem; font-size: 1rem; border-radius: .25rem; }
        .btn-primary { color: #fff; background-color: #0d6efd; border-color: #0d6efd; }
        .btn-warning { color: #000; background-color: #ffc107; border-color: #ffc107; }
        .btn-danger { color: #fff; background-color: #dc3545; border-color: #dc3545; }
        .btn-sm { padding: .25rem .5rem; font-size: .875rem; border-radius: .2rem; }
        .d-inline { display: inline !important; }
        .row { display: flex; flex-wrap: wrap; margin-right: -15px; margin-left: -15px; }
        .col-md-4, .col-lg-3 { position: relative; width: 100%; padding-right: 15px; padding-left: 15px; box-sizing: border-box; }
        @media (min-width: 768px) { .col-md-4 { flex: 0 0 33.333333%; max-width: 33.333333%; } }
        @media (min-width: 992px) { .col-lg-3 { flex: 0 0 25%; max-width: 25%; } }
        .h-100 { height: 100% !important; }
        .d-flex { display: flex !important; }
        .flex-column { flex-direction: column !important; }
        .mt-auto { margin-top: auto !important; }
        .mb-4 { margin-bottom: 1.5rem !important; }
        h1, h2, h3 { margin-top: 0; margin-bottom: .5rem; }
        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.75rem; }
        .alert { position: relative; padding: 1rem 1rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: .25rem; }
        .alert-success { color: #0f5132; background-color: #d1e7dd; border-color: #badbcc; }
        .alert-danger { color: #842029; background-color: #f8d7da; border-color: #f5c2c7; }
    </style>
</head>
<body>
    <div class="navbar">
        <a class="brand" href="/"> Jorem's Restaurant</a>
        <div class="navbar-right">
            <a href="{{ url_for('staff_menu') }}">Staff Menu</a>
            <a href="{{ url_for('table_list') }}">Tables</a>
            {% if session.logged_in %}
                {% if session.is_staff %}<a href="{{ url_for('staff_dashboard') }}">Staff Panel</a>{% endif %}
                <a href="{{ url_for('logout') }}">Logout</a>
            {% else %}
                <a href="{{ url_for('login') }}">Login</a>
            {% endif %}
        </div>
    </div>

    <div class="container page-content">

        <h1 class="mb-4">Menu Management</h1>

       
        <div class="card mb-4">
            <div class="card-header">
                <h3>Add New Menu Item</h3>
            </div>
            <div class="card-body">
                <form action="{{ url_for('staff_add_item') }}" method="POST" enctype="multipart/form-data">
                    <div class="form-group mb-2">
                        <label for="name">Item Name</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>
                    <div class="form-group mb-2">
                        <label for="price">Price</label>
                        <input type="number" step="0.01" class="form-control" id="price" name="price" required>
                    </div>
                    <div class="form-group mb-3">
                        <label for="image">Image</label>
                        <input type="file" class="form-control" id="image" name="image" accept="image/*" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Item</button>
                </form>
            </div>
        </div>

     
        <h2>Current Menu</h2>
        <div class="row">
            {% for item in menu_items %}
            <div class="col-md-4 col-lg-3 mb-4">
                <div class="card h-100">
                    <img src="{{ url_for('static', filename=item.image) }}" class="card-img-top" alt="{{ item.name }}">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{ item.name }}</h5>
                        <p class="card-text">â‚±{{ "%.2f"|format(item.price) }}</p>
                        <div class="mt-auto">
                            <a href="{{ url_for('staff_edit_item', item_id=item.id) }}" class="btn btn-sm btn-warning">Edit</a>
                            <form action="{{ url_for('staff_delete_item', item_id=item.id) }}" method="POST" class="d-inline">
                                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this item?');">Delete</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            {% else %}
            <p>No menu items found. Add one using the form above!</p>
            {% endfor %}
        </div>
    </div>
</body>
</html>